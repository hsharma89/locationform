<!DOCTYPE html>
<html>
<head>
  <title>Location Tracker</title>
</head>
<body>
  <h2>Submit Your Location</h2>
 <form method="POST" action="https://script.google.com/macros/s/AKfycby9jnFYeEwK0-vWNMczaRPUQ-3-Y5F9YgkxU97eX_pz8XB9IbZyH4MibLiiDS7TBfsOsw/exec">
    <label>Name:</label><br>
    <input type="text" id="name" required><br><br>
    <input type="submit" value="Submit">
  </form>

  <p id="status"></p>

  <script>
    const form = document.getElementById("locationForm");
    form.addEventListener("submit", function (e) {
      e.preventDefault();
      const name = document.getElementById("name").value;

      if (!navigator.geolocation) {
        alert("Geolocation is not supported by your browser");
        return;
      }

      navigator.geolocation.getCurrentPosition(success, error);

      function success(position) {
        const data = {
          name: name,
          latitude: position.coords.latitude,
          longitude: position.coords.longitude
        };

        fetch("https://script.google.com/macros/s/AKfycbyAWq6cGbERVbUpq2I5NpzBmDU2MZsoTgHRYD-niFyS5ZUE5TWafo3a1oNiAaWVQiUSAw/exec", {
          method: "POST",
          contentType: "application/json",
          body: JSON.stringify(data)
        }).then(response => {
          document.getElementById("status").textContent = "Submitted successfully!";
          form.reset();
        }).catch(err => {
          document.getElementById("status").textContent = "Error submitting!";
          console.error(err);
        });
      }

      function error() {
        alert("Unable to retrieve your location");
      }
    });
  </script>
</body>
</html>
